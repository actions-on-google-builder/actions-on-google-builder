<app-carousel-group (transition)="onTransition($event)" [selected]="selectedCarousel" [showDots]="showDots">
    <app-carousel>

        <md-card class="card">
            <md-card-header>
                <div md-card-avatar class="header-image"></div>
                <md-card-title>Actions on Goolge Builder</md-card-title>
                <md-card-subtitle>Build with Actions on Google</md-card-subtitle>
            </md-card-header>
            <img md-card-image src="https://cdn.tproger.ru/wp-content/uploads/2017/04/googleassistantsdkmini.png">
            <md-card-content>
                <p>
                    Actions on Google lets you build apps for the Google Assistant. Your apps can help you engage users through Google Home, eligible Android phones, iPhones, and in the future, through every experience where the Google Assistant is available.
                </p>
            </md-card-content>
            <md-card-actions class="align-center">
                <button color="primary" md-raised-button (click)="start()">START</button>
            </md-card-actions>
        </md-card>

    </app-carousel>
    <app-carousel>

        <md-card class="card">
            <md-card-header>
                <div md-card-avatar class="header-image">
                    <img *ngIf="user" [src]="user.photoURL">
                </div>
                <md-card-title>Link your Google account</md-card-title>
                <md-card-subtitle *ngIf="user">{{ user.displayName }} ({{ user.email }})</md-card-subtitle>
            </md-card-header>
            <img md-card-image src="https://www.ftrack.com/wp-content/uploads/google-cloud-platform.png">
            <md-card-content>
                <br>
                <p>
                    Allow this application to access your account information in order to create:
                </p>
                <ul>
                    <li>An API.AI project to model your dialog;</li>
                    <li>A Google Cloud Platform project to deploy the Cloud Function.</li>
                </ul>
                <p>
                    This application will ask for these permissions (scopes):
                </p>
                <ul>
                    <li>https://www.googleapis.com/auth/cloud-platform.</li>
                    <li>https://www.googleapis.com/auth/cloudplatformprojects.</li>
                    <li>https://www.googleapis.com/auth/cloudfunctions.</li>
                </ul>
            </md-card-content>
            <md-card-actions>
                <a *ngIf="!user" md-button target="__blank" href="https://cloud.google.com/">CREATE A TRIAL ACCOUNT</a>
                <button *ngIf="!user; else connectedRef" color="primary" md-raised-button (click)="login()">LOGIN</button>
                <ng-template #connectedRef>
                    <button color="warn" md-raised-button (click)="logout()">UNLINK</button>
                    <button color="primary" md-raised-button (click)="next(2)">NEXT</button>
                </ng-template>
            </md-card-actions>
        </md-card>

    </app-carousel>
    <app-carousel>

        <md-card class="card">
            <md-card-header>
                <div md-card-avatar class="header-image">
                    <img *ngIf="user" [src]="user.photoURL">
                </div>
                <md-card-title>Create your project</md-card-title>
                <md-card-subtitle *ngIf="user">{{ user.displayName }} ({{ user.email }})</md-card-subtitle>
            </md-card-header>
            <md-card-content>

                <form #form="ngForm">
                    <p>
                        <md-input-container>
                            <input [disabled]="gcp.operationSteps[1].isValid" [(ngModel)]="projectName" name="project-name" type="text" mdInput placeholder="Enter your project name" required pattern="[a-z][a-z0-9-]+" maxlength="30" minlength="6">
                            <md-hint>Must be 6-30 lowercase letters, digits or hyphens, start with a letter and have no trailing hyphen.</md-hint>
                        </md-input-container>
                    </p>
                    <p>
                        <md-list dense>
                            <h3 md-subheader>Applying operations</h3>
                            <md-list-item *ngFor="let step of gcp.operationSteps" [ngClass]="{ 'isWorking': step.isWorking, 'isValid': step.isValid, 'isDirty': step.isDirty }">

                                <div md-list-icon>
                                    <md-icon md-list-icon *ngIf="step.isDirty && (!step.isWorking && !step.isValid)" class="error-message">close</md-icon>
                                    <md-icon md-list-icon *ngIf="step.isDirty && (!step.isWorking && step.isValid)">done</md-icon>
                                    <div md-list-icon *ngIf="step.isWorking === true">
                                        <md-progress-spinner color="primary" mode="indeterminate"></md-progress-spinner>
                                    </div>
                                </div>

                                <p md-line>{{ step.description }} <span class="error-message" md-line [title]="step.error" *ngIf="!!step.error">[{{ step.error }}]</span> </p>
                            </md-list-item>

                        </md-list>
                        <md-divider></md-divider>
                    </p>
                </form>
            </md-card-content>
            <md-card-actions>
                <span class="error-message" *ngIf="error?.message">{{ error?.message }}</span>
                <button *ngIf="gcp.isAllOperationsOK(); else projectCreatedDoneRef" color="primary" md-raised-button (click)="next(3)">NEXT</button>
                <ng-template #projectCreatedDoneRef>
                    <button color="primary" md-raised-button [disabled]="form.invalid" (click)="create()">CREATE</button>
                </ng-template>
            </md-card-actions>
        </md-card>

    </app-carousel>
    <app-carousel>

        <md-card class="card">
            <md-card-header>
                <div md-card-avatar class="header-image"></div>
                <md-card-title>Actions on Goolge Builder</md-card-title>
                <md-card-subtitle>Build with Actions on Google</md-card-subtitle>
            </md-card-header>
            <img md-card-image src="https://cdn.tproger.ru/wp-content/uploads/2017/04/googleassistantsdkmini.png">
            <md-card-content>
                <p>
                    Actions on Google lets you build apps for the Google Assistant. Your apps can help you engage users through Google Home, eligible Android phones, iPhones, and in the future, through every experience where the Google Assistant is available.
                </p>
            </md-card-content>
            <md-card-actions>
                <button color="primary" md-raised-button (click)="login()">START</button>
            </md-card-actions>
        </md-card>

    </app-carousel>
    <app-carousel>

        <md-card class="card">
            <md-card-header>
                <div md-card-avatar class="header-image"></div>
                <md-card-title>Actions on Goolge Builder</md-card-title>
                <md-card-subtitle>Build with Actions on Google</md-card-subtitle>
            </md-card-header>
            <img md-card-image src="https://cdn.tproger.ru/wp-content/uploads/2017/04/googleassistantsdkmini.png">
            <md-card-content>
                <p>
                    Actions on Google lets you build apps for the Google Assistant. Your apps can help you engage users through Google Home, eligible Android phones, iPhones, and in the future, through every experience where the Google Assistant is available.
                </p>
            </md-card-content>
            <md-card-actions>
                <button color="primary" md-raised-button (click)="login()">START</button>
            </md-card-actions>
        </md-card>

    </app-carousel>
</app-carousel-group>